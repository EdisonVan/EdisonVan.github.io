<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.ico">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="Peng Sifan&#39;s self blog!">
  <meta name="author" content="sifan.peng">
  <meta name="keywords" content="">
  <title>初识泰罗奥特曼 ~ 彭思凡的个人网站</title>
  
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

  
<link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css">

  
<link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css">

  
<link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css">

  
<link rel="stylesheet" href="https://at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">

  
    
<link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css">

  
  
<link rel="stylesheet" href="/css/main.css">


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>彭思凡的个人网站</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">Archives</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">Categories</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">Tags</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">About</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>


</nav>

    <div class="view intro-2"
         style="background: url('/img/default.png')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              <p>星期三, 八月 21日 2019, 5:39 凌晨</p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto">
          <div class="markdown-body">
            <p>[TOC]</p>
<h1 id="快速搭建了一个泰罗"><a href="#快速搭建了一个泰罗" class="headerlink" title="快速搭建了一个泰罗"></a>快速搭建了一个泰罗</h1><blockquote>
<p>前提：保证 node 版本&gt;&#x3D;8.0.0</p>
</blockquote>
<h2 id="Step1-全局安装-Taro"><a href="#Step1-全局安装-Taro" class="headerlink" title="Step1.全局安装 Taro"></a>Step1.全局安装 Taro</h2><pre><code class="bash">yarn global add @tarojs/cli
</code></pre>
<h2 id="Step2-使用命令创建模板项目"><a href="#Step2-使用命令创建模板项目" class="headerlink" title="Step2.使用命令创建模板项目"></a>Step2.使用命令创建模板项目</h2><pre><code class="bash">taro init MyFirstTaro
</code></pre>
<h2 id="Step3-使用-yarn-安装依赖"><a href="#Step3-使用-yarn-安装依赖" class="headerlink" title="Step3.使用 yarn 安装依赖"></a>Step3.使用 yarn 安装依赖</h2><pre><code class="bash">cd MyFirstTaro
yarn
</code></pre>
<h1 id="编译预览及打包"><a href="#编译预览及打包" class="headerlink" title="编译预览及打包"></a>编译预览及打包</h1><p>目前我只需要适配微信小程序，所以只对微信小程序进行编译预览及打包</p>
<pre><code class="bash">yarn dev:weapp --watch # 添加watch来监听文件修改
yarn build:weapp # build 模式：无--watch，将不会监听文件修改，并会对代码进行压缩打包
</code></pre>
<p>如果在编译时想禁用 ESLint 检查，可以在命令前加入 <code>ESLINT=false</code> 参数</p>
<pre><code class="bash">ESLINT=false taro build --type weapp --watch
</code></pre>
<!-- 此处后期添加一个效果图 -->

<h1 id="文件配置"><a href="#文件配置" class="headerlink" title="文件配置"></a>文件配置</h1><h2 id="格式化工具"><a href="#格式化工具" class="headerlink" title="格式化工具"></a>格式化工具</h2><blockquote>
<p>VsCode 安装好格式化插件 prettierrc 的前提下</p>
</blockquote>
<p><strong>.prettierrc.js</strong></p>
<pre><code class="js">/**
 * 默认的一些配置
 * printWidth: 80,
 * tabWidth: 2,
 * useTabs: false
 * quoteProps:as-needed 对象的属性只有需要时才添加引号
 * jsxSingleQuote: false jsx中使用单引号
 * trailingComma: none 数组和对象的尾逗号
 * bracketSpacing: true 对象左右大括号各有一个空格 &#123; foo: bar &#125;
 * jsxBracketSameLine: false jsx中标签多行属性的第一个 &gt; 是单独一行还是在行尾
 * arrowParens: avoid 箭头函数只有一个参数时，尽可能地省略括号
 */
module.exports = &#123;
  singleQuote: true, // 单引号
  semi: false,
  arrowParens: &#39;always&#39;,
  trailingComma: &#39;es5&#39;, // 是否使用尾逗号，有三个可选值：&lt;none|es5|all&gt;
&#125;;
// 无分号，箭头函数参数必有括号，尾逗号
</code></pre>
<p><strong>project.config.json 配置</strong><br>Taro 模板创建的项目默认拥有 <code>project.config.json</code> 这一项目配置文件<strong>只用于适配微信小程序</strong>，要适配其他平台要进行相应 json 文件的配置，具体可看<a target="_blank" rel="noopener" href="https://nervjs.github.io/taro/docs/project-config.html">Taro 官网-项目配置</a></p>
<pre><code class="json">&#123;
  &quot;miniprogramRoot&quot;: &quot;dist/&quot;,
  &quot;projectname&quot;: &quot;MyFirstTaro&quot;,
  &quot;description&quot;: &quot;Can&#39;t Tell U&quot;,
  &quot;appid&quot;: &quot;wxf694b87c0666666&quot;,
  &quot;setting&quot;: &#123;
    &quot;urlCheck&quot;: true,
    &quot;es6&quot;: false,
    &quot;postcss&quot;: false,
    &quot;minified&quot;: false,
    &quot;coverView&quot;: true,
    &quot;babelSetting&quot;: &#123;
      &quot;ignore&quot;: [],
      &quot;outputPath&quot;: &quot;&quot;
    &#125;
  &#125;,
  &quot;compileType&quot;: &quot;miniprogram&quot;,
  &quot;simulatorType&quot;: &quot;wechat&quot;,
  &quot;simulatorPluginLibVersion&quot;: &#123;&#125;,
  &quot;condition&quot;: &#123;&#125;
&#125;
</code></pre>
<h1 id="Taro-页面模板"><a href="#Taro-页面模板" class="headerlink" title="Taro 页面模板"></a>Taro 页面模板</h1><pre><code class="jsx">import Taro, &#123; Component &#125; from &#39;@tarojs/taro&#39;;
import &#123; View, Text &#125; from &#39;@tarojs/components&#39;;
import &#39;./app.less&#39;;
import &#39;./index.less&#39;;

class LoginFindpassword extends Component &#123;
  constructor(props) &#123;
    super(props);
    this.state = &#123;&#125;;
  &#125;
  componentWillMount() &#123;
    console.log(&#39;this.$router.params&#39;);
    console.log(this.$router.params);
  &#125;
  componentDidMount() &#123;&#125;
  componentDidHide() &#123;&#125;
  componentDidShow() &#123;&#125;
  // 项目配置
  config = &#123;
    navigationBarTitleText: &#39;忘记密码&#39;,
  &#125;;

  // JS方法
  render() &#123;
    const &#123;&#125; = this.props;
    const &#123;&#125; = this.state;
    return (
      &lt;View className=&#39;page&#39;&gt;
        &lt;Text&gt;Hello Taro&lt;/Text&gt;
      &lt;/View&gt;
    );
  &#125;
&#125;
export default LoginFindpassword;
</code></pre>
<h1 id="与微信小程序原生写法的常见不同写法"><a href="#与微信小程序原生写法的常见不同写法" class="headerlink" title="与微信小程序原生写法的常见不同写法"></a>与微信小程序原生写法的常见不同写法</h1><ul>
<li><code>bindfocus</code> 改用 <code>onFocus</code> 替代</li>
</ul>
<pre><code class="jsx">&lt;Input bindfocus=&#123;this.onFocus&#125; /&gt;  =&gt; &lt;Input onFocus=&#123;this.onFocus&#125; /&gt;
</code></pre>
<ul>
<li><code>bindtap</code> 改用 <code>onClick</code> 替代</li>
</ul>
<pre><code class="jsx">&lt;View bindtap=&#123;this.onTag&#125; /&gt; =&gt; &lt;View onClick=&#123;this.onTag&#125; /&gt;
</code></pre>
<ul>
<li><code>animationEnd</code> 改用 <code>onAnimationEnd</code> 替代</li>
</ul>
<pre><code class="jsx">&lt;CustomElement animationEnd=&#123;this.data.onAnimationEnd&#125; /&gt; =&gt; &lt;CustomElement onAnimationEnd=&#123;this.state.onAnimationEnd&#125; /&gt;
</code></pre>
<ul>
<li>bindchange 该用 onChange 替代</li>
<li>placeholder&#x3D;””改用 placeholder&#x3D;{} 替代</li>
<li>maxlength&#x3D;”15”改用 maxLength&#x3D;{15}替代</li>
<li>scroll-view 改为 ScrollView</li>
<li>input 中<code>password</code>改写为<code>&lt;Input password=&#123;true&#125; /&gt;</code></li>
<li><code>bindinput</code>改写为<code>onInput</code></li>
<li><code>cover-View</code>改写为<code>CoverView</code></li>
<li><code>&lt;block&gt;...&lt;/block&gt;</code>改写为<code>&lt;Block&gt;...&lt;/Block&gt;</code></li>
<li><code>&lt;picker&gt;...&lt;/picker&gt;</code>改写为<code>&lt;Picker&gt;...&lt;/Picker&gt;</code></li>
<li><code>wx:if=&#123;IdCardType == 1010106&#125;</code>改为<code>&#123;IdCardType === 1010106 &amp;&amp; (...)&#125;</code></li>
<li><code>this.setData</code>改为<code>this.setState</code></li>
<li>在小程序里对应的生命周期是 onLoad 在 Taro 中对应 componentWillMount()这一块</li>
<li>onLoad 中的 query 改为路由传参<code>this.$router.params</code></li>
<li>在小程序里对应的生命周期是 onShow 在 Taro 中对应 componentDidShow()这一块</li>
<li>在小程序里对应的生命周期是 onLaunch 在 Taro 中对应 componentDidMount()这一块(在 componentWillMount 后执行)<br>监听程序初始化，初始化完成时触发（全局只触发一次）</li>
<li>页面退出时在小程序里对应的生命周期是 onUnload 在 Taro 中对应 componentWillUnmount()这一块</li>
<li>动态修改 title：</li>
</ul>
<pre><code>Taro.setNavigationBarTitle(&#123;
  title: &#39;登录&#39;
&#125;);
</code></pre>
<ul>
<li>使用<code>map</code>方法替换成小程序中<code>wx:for</code>,且要注意 Taro 中 map 后索引通过 map(item,index)后给对应事件通过 bind(this,index)的方式获取索引 index，而不能使用小程序常用的自定义方法’data-xxx’  <!-- - `AppIdentity: function ()`改为`AppIdentity=()=>` -->
<strong>微信原生</strong></li>
</ul>
<pre><code class="js">&lt;view className=&quot;route-list&quot; wx:for=&#123;orderList&#125; wx:for-item=&quot;order&quot; bindtap=&quot;routeChoosedTap&quot; data-id=&#123;index&#125; wx:key=&quot;orderList&quot;&gt;
  &#123;&#123;order.test&#125;&#125;
&lt;/view&gt;
</code></pre>
<p><strong>Taro</strong></p>
<pre><code class="js">&#123;
  orderList.map((order, index) =&gt; &#123;
    return (
      &lt;View
        className=&#39;route-list&#39;
        onClick=&#123;this.routeChoosedTap&#125;
        data-id=&#123;index&#125;
        taroKey=&#39;orderList&#39;
      &gt;
        &#123;order.test&#125;
      &lt;/View&gt;
    );
  &#125;);
&#125;
</code></pre>
<ul>
<li>taroKey 替换微信小程序的 wx:key，用于循环渲染原生小程序组件，赋予每个元素唯一确定标识</li>
</ul>
<p><strong>原生</strong></p>
<pre><code class="jsx">&lt;view wx:key=&#123;statusArr&#125;&gt;&#123;item.message&#125;&lt;/view&gt;
</code></pre>
<p><strong>Taro</strong></p>
<pre><code class="jsx">&lt;view taroKey=&#123;statusArr&#125;&gt;&#123;item.message&#125;&lt;/view&gt;
</code></pre>
<h1 id="你不得不避免的坑"><a href="#你不得不避免的坑" class="headerlink" title="你不得不避免的坑"></a>你不得不避免的坑</h1><h2 id="因为-setState-异步导致的问题"><a href="#因为-setState-异步导致的问题" class="headerlink" title="因为 setState 异步导致的问题"></a>因为 setState 异步导致的问题</h2><p>this.data.orderList &#x3D; []时会直接操作 data 中的数据，而 React 语法使用 setState 是有延时的，所以要放在 setState 的会提到中执行</p>
<blockquote>
<p>场景：<br>登录成功则通过 Taro.setStorage 缓存一个 key，并将 hasLogin 设置为 true<br>首页通过 getStorage 来获取指定 key 来判断是否登录成功<br>如果在 complete 中通过 setState 更新 hasLogin，但 setState 是异步操作，所以 getStorage 事件里获取的 hasLogin 还是 false，所以页面登录进去又会跳回登录页面(login&#x2F;index)！</p>
</blockquote>
<pre><code class="js">Taro.getStorage(&#123;
  key: &#39;User&#39;,
  success: function (res) &#123;
    if (res.data) &#123;
      globalData.User = res.data;
      console.log(&#39;成功得到key&#39;);
      that.setState(&#123;
        hasLogin: true,
      &#125;);
    &#125;
  &#125;,
  complete: function () &#123;
    // 无论接口调用结束的回调函数
    if (!that.state.hasLogin) &#123;
      console.log(&#39;Test3&#39;);
      console.log(that.state.hasLogin);
      Taro.redirectTo(&#123;
        url: &#39;../login/index&#39;,
      &#125;);
    &#125;
  &#125;,
&#125;);
</code></pre>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>不在 complete 回调中使用路由跳转方法，转而放到 componentDidMount()生命周期中执行判断</p>
<pre><code class="js">componentDidMount() &#123;
  if (!that.state.hasLogin) &#123;
    console.log(&quot;Test3&quot;);
    console.log(that.state.hasLogin);
    Taro.redirectTo(&#123;
      url: &quot;../login/index&quot;
    &#125;);
  &#125;
&#125;
</code></pre>
<h2 id="要使用-stopPropagation-来取代-catchtap-阻止冒泡"><a href="#要使用-stopPropagation-来取代-catchtap-阻止冒泡" class="headerlink" title="要使用 stopPropagation 来取代 catchtap 阻止冒泡"></a>要使用 stopPropagation 来取代 catchtap 阻止冒泡</h2><p><strong>微信小程序写法</strong></p>
<pre><code class="js">toggleDialog:function() &#123;
  this.setData(&#123;
    showDialog: false,
  &#125;)
&#125;
&lt;View className=&#39;item-bd&#39; catchtap=&#39;toggleDialog&#39;&gt;
  &#123;personCenter[yuyan].cancel&#125;
&lt;/View&gt;
</code></pre>
<p><strong>Taro 写法</strong></p>
<pre><code class="js">toggleDialog = (e) =&gt; &#123;
  e.stopPropagation();
  this.setState(&#123;
    showDialog: false,
  &#125;);
&#125;;
&lt;View className=&#39;item-bd&#39; onClick=&#123;this.toggleDialog&#125;&gt;
  &#123;personCenter[yuyan].cancel&#125;
&lt;/View&gt;;
</code></pre>
<h2 id="本地资源引入"><a href="#本地资源引入" class="headerlink" title="本地资源引入"></a>本地资源引入</h2><p><a target="_blank" rel="noopener" href="https://nervjs.github.io/taro/docs/static-reference.html#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A0%B7%E5%BC%8F%E4%B8%AD%E5%BC%95%E7%94%A8%E6%9C%AC%E5%9C%B0%E8%B5%84%E6%BA%90">小程序样式中引用本地资源</a></p>
<p>本地 config 文件夹下的 index.js 保持和 Taro 官网中一样的配置，但是使用<code>import note from &#39;../../images/path/note.png</code>仍然报错<code>Failed to load local image resource</code>，仔细检查发现路径也没有任何问题</p>
<h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><p>js 中引入本地图片，Taro 无法对其进行转换</p>
<h3 id="解决方案-1"><a href="#解决方案-1" class="headerlink" title="解决方案"></a>解决方案</h3><p><strong>在 css 里引入图片</strong></p>
<pre><code class="css">.note &#123;
  background-image: url(../../images/note.png);
&#125;
</code></pre>
<h2 id="currentTarget-获取索引的-Taro-写法与微信小程序写法异同"><a href="#currentTarget-获取索引的-Taro-写法与微信小程序写法异同" class="headerlink" title="currentTarget 获取索引的 Taro 写法与微信小程序写法异同"></a>currentTarget 获取索引的 Taro 写法与微信小程序写法异同</h2><p>场景：后端给出一个数组，数组中的数据依次渲染到列表中，用户点击对应的数据要拿到对应的索引进行操作<br><strong>微信小程序写法</strong></p>
<blockquote>
<p>通过 currentTarget 事件绑定的当前组件，dataset 属性结合自定义属性组成的集合 data-xxx</p>
</blockquote>
<pre><code class="js">//查看审核流程
showCheckModal: function(e)&#123;
  var that = this;
  var id = e.currentTarget.dataset.id;
  that.setData(&#123;
    showCheck: true,
    modalList: that.data.orderList[id].ApproveSteps
  &#125;)
&#125;,
&lt;view catchtap=&quot;showCheckModal&quot; wx:if=&quot;&#123;&#123;order.ApproveSteps.length > 0 &#125;&#125;&quot; data-id=&quot;&#123;&#123;index&#125;&#125;&quot;&gt;
&lt;/view&gt;
</code></pre>
<p><strong>Taro 写法</strong></p>
<blockquote>
<p>通过 map 将数据遍历渲染，然后通过 bind 将数据的索引传递给绑定事件</p>
</blockquote>
<pre><code class="js">//查看审核流程
showCheckModal = (index, e) =&gt; &#123;
  let id = index;
  this.setState(&#123;
    showCheck: true,
    modalList: this.state.orderList[id].ApproveSteps,
  &#125;);
&#125;;
&#123;
  orderList.length &gt; 0 &amp;&amp;
    orderList.map((order, i) =&gt; &#123;
      return (
        &lt;View
          className=&#39;approveStatus&#39;
          onClick=&#123;this.showCheckModal.bind(this, i)&#125;
        &gt;
          &lt;View&gt;&#123;Itinerary[yuyan].viewPro&#125;&lt;/View&gt;
        &lt;/View&gt;
      );
    &#125;);
&#125;
</code></pre>
<h1 id="Taro-调用上一个页面方法"><a href="#Taro-调用上一个页面方法" class="headerlink" title="Taro 调用上一个页面方法"></a>Taro 调用上一个页面方法</h1><p>关键：<code>.$component.</code></p>
<pre><code class="jsx">// 返回到个人信息
Taro.showToast(&#123;
  title: msg,
  icon: &#39;none&#39;,
  duration: 2000,
  success: function () &#123;
    let pages = Taro.getCurrentPages();
    let prevPage = pages[pages.length - 2];
    prevPage.$component.setState(
      &#123;
        userEmail: email,
      &#125;,
      () =&gt; &#123;
        console.log(&#39;页面回退&#39;);
        Taro.navigateBack(&#123;
          delta: 1,
          complete: function () &#123;
            prevPage.$component.getBaseInfo(globalData.User.UserId);
          &#125;,
        &#125;);
      &#125;
    );
  &#125;,
&#125;);
</code></pre>
<h1 id="开发注意事项"><a href="#开发注意事项" class="headerlink" title="开发注意事项"></a>开发注意事项</h1><ul>
<li>在 Taro 默认生成的模板都推荐用 ESLint 进行检测</li>
<li>小程序不支持将 data 中任何一项的 value 设为 <code>undefined</code>，setState 时用<code>null</code>来代替 <code>undefined</code></li>
<li>Taro 中，JS 代码里必须书写单引号,双引号会导致编译错误</li>
<li>双重嵌套遍历时每层的 index 都要写出来，详情<a target="_blank" rel="noopener" href="https://nervjs.github.io/taro/docs/debug.html">Debug 指南-编译模板出错</a></li>
</ul>
<h1 id="如何快速重构"><a href="#如何快速重构" class="headerlink" title="如何快速重构"></a>如何快速重构</h1><p>同样的内容同时开发，就是高效解决问题的办法！划分合并的思想！</p>
<ol>
<li>写入 Taro 页面模板</li>
<li>写入 wxml</li>
</ol>
<p>&#96;&#96;&#96;</p>
<ul>
<li><code>&quot;&#123;&#123;` 改为 `&#123;`
- `&#123;&#123;` 改为 `&#123;`
- `&#125;&#125;&quot;</code> 改为 <code>&#125;</code></li>
<li>}} 改为 }</li>
<li>&lt;view 改为&lt;View</li>
<li>class&#x3D;”改为 className&#x3D;’</li>
<li>className 的模版字符串引入</li>
<li>style&#x3D;”改为 style&#x3D;</li>
</ul>

            <hr>
          </div>
          <br>
          <div>
            
              <p>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/%E5%BF%AB%E4%B9%90%E7%BC%96%E7%A0%81">快乐编码</a>
                  &nbsp;
                
              </p>
            
            <p>
              <i class="iconfont icon-tag"></i>
              
                <a class="hover-with-bg" href="/tags/React%20%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF">React 那些事儿</a>
              
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>
    
  </div>
</footer>

<!-- SCRIPTS -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/popper/popper.min.js"></script>


<script src="/lib/bootstrap/js/bootstrap.min.js"></script>


<script src="/lib/mdbootstrap/js/mdb.min.js"></script>


<script src="/js/main.js"></script>


  
    
<script src="/lib/tocbot/tocbot.min.js"></script>

  
  
<script src="/js/post.js"></script>



  
<script src="/lib/prettify/prettify.min.js"></script>

  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint linenums');
      prettyPrint();
    })
  </script>


  
<script src="/lib/typed/typed.min.js"></script>

  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "初识泰罗奥特曼&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>


  
<script src="/lib/anchor/anchor.min.js"></script>

  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  
<script src="/js/local-search.js"></script>

  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>


</body>
</html>
